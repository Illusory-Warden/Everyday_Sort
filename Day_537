### **Core problems from your log**

| Issue                                       | Why it failed                                                                                 |
| ------------------------------------------- | --------------------------------------------------------------------------------------------- |
| `Error: Cannot find module 'simple-concat'` | Missing dependency in node_modules (corrupted install)                                        |
| `node-gyp rebuild` fails                    | Because **Visual Studio C++ build tools are not installed**                                   |
| Node **v22.20.0**                           | Canvas may not provide prebuilt binaries yet for such a new Node version â†’ forces compilation |
| EPERM cleanup warnings                      | Some old modules couldnâ€™t be removed due to permissions                                       |

---

## FIX â€“ Follow these steps in order

### **STEP 1 â€” Remove corrupted node_modules**

```sh
rm -rf node_modules package-lock.json
```

or on Windows PowerShell:

```ps
rmdir -Force -Recurse node_modules
del package-lock.json
```

---

### **STEP 2 â€” Install Visual Studio C++ Build Tools (Required for canvas)**

You **must install**:

â˜‘ *Desktop development with C++*
â˜‘ *MSVC v143 or later*
â˜‘ *Windows 10/11 SDK*

Download Visual Studio Build Tools here:
ðŸ”— [https://visualstudio.microsoft.com/visual-cpp-build-tools/](https://visualstudio.microsoft.com/visual-cpp-build-tools/)

---

### **STEP 3 â€” Install Windows Build Tools (Alternative shortcut)**

If you want an easier command-line install:

```sh
npm install --global windows-build-tools
```

(Requires Admin PowerShell)

---

### **STEP 4 â€” Install missing dependency manually**

```sh
npm install simple-concat simple-get
```

---

### **STEP 5 â€” Try installing again**

```sh
npm install pdfjs-dist canvas
```

---

## âš  Recommended (Important!)

`canvas` may still fail on Node 22.
Many users run it safely on **Node 18 or Node 20 LTS**.

### If errors continue, switch Node version:

```sh
npm install -g nvm
nvm install 20
nvm use 20
```

Then reinstall:

```sh
npm install canvas
```

